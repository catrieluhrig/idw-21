<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <title>Centro Médico IDW S.A.</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <link rel="stylesheet" href="css/estilos.css">
</head>

<body>

    <header class="mt-2">
        <div class="container-fluid">
            <h1 class="text-center"> Centro Médico IDW S.A.</h1>
            <nav class="navbar navbar-expand-lg">
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                    aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0 mx-auto mt-2">
                        <li class="nav-item me-2">
                            <a class="nav-link link-activo" aria-current="page" href="index.html">Inicio</a>
                        </li>
                        <li class="nav-item me-2">
                            <a class="nav-link" href="institucional.html">Institucional</a>
                        </li class="nav-item">
                            <a class="nav-link" href="contacto.html">Contactos</a>
                        </li>
                        <li class="nav-item me-2 d-none" id="administracionLink">
                            <a class="nav-link" href="administracion.html">Administración</a>
                        </li>
                    </ul>
                    <div class="d-flex">
                        <button id="loginBtn" class="btn btn-outline-primary btn-sm">Iniciar sesión</button>
                        <button id="logoutBtn" class="btn btn-outline-danger btn-sm d-none">Cerrar sesión</button>
                    </div>
                </div>
            </nav>
        </div>
    </header>

    <main class="m-5">
        <h2 class="eslogan">Cuidamos tu salud, como cuidaríamos a nuestra familia.</h2>
        <h2 class="eslogan"><u>Tu bienestar, nuestra prioridad.</u></h2>
        <br>
        <h2 class="eslogan">Nuestros Profesionales:</h2>
        

        <section class="profesionales">
            <div class="container text-center">
                <div id="listaMedicos" class="row column-gap-1">

                </div>
            </div>
        </section>
    </main>
    <footer class="text-center">
        <p>&copy; 2025 Centro Médico IDW</p> 
        <p>Integrantes del grupo: Mateo Fernandez, Tobias Heynen, Rodrigo Benitez, Flavia Morabito, Sergio Oscar Sieza,
            Catriel Uhrig</p>
    </footer>
    <script src="js/medicos.js"></script>
    <script>
        const adminLink = document.getElementById('administracionLink');
        const loginBtn = document.getElementById('loginBtn');
        const logoutBtn = document.getElementById('logoutBtn');

        const sesionActiva = localStorage.getItem('loginActivo') === 'true';

        if (sesionActiva) {
            adminLink.classList.remove('d-none');
            loginBtn.classList.add('d-none');
            logoutBtn.classList.remove('d-none');
        }

        loginBtn.addEventListener('click', () => {
            window.location.href = "login.html";
        });

        logoutBtn.addEventListener('click', () => {
            localStorage.removeItem('loginActivo');
            window.location.reload();
        });
    </script>

    <script>
    const contenedorMedicos = document.getElementById('listaMedicos');
    function cargarMedicosPublicos() {
        const medicos = JSON.parse(localStorage.getItem('medicos')) || [];
        contenedorMedicos.innerHTML = '';
        if (medicos.length === 0) {
            contenedorMedicos.innerHTML = `
                <p class="text-muted mt-4">Aún no hay médicos cargados.</p>
            `;
            return;
        }

        medicos.forEach(medico => {
            const col = document.createElement('div');
            col.className = 'card-container col-12 col-md-6 col-lg-3 mx-auto mt-5 p-2 rounded-3';

            col.innerHTML = `
                <div class="card h-100 p-2">
                    <img src="${medico.imagen || 'img/equipo-medico.png'}" 
                         alt="Foto de ${medico.nombre}" 
                         class="card-img-top w-75 h-75 rounded-3 mb-3 mx-auto"
                         style="object-fit: cover; max-height: 220px;">
                    <div class="card-body">
                        <h3 class="card-title">${medico.nombre}</h3>
                        <p>Especialidad: ${medico.especialidad}</p>
                        <p>Obras Sociales: ${medico.obrasSociales}</p>
                    </div>
                </div>
            `;
            contenedorMedicos.appendChild(col);
        });
    }
    cargarMedicosPublicos();
</script>
</body>
</html>